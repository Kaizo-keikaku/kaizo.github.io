<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海象計画</title>
    <meta name="description" content="文学同人サークル「海象計画」の公式サイト。">
    <meta property="og:title" content="海象計画">
    <meta property="og:description" content="静謐な海を漂うような、言葉の記録。">
    <meta property="og:url" content="https://kaizo-keikaku.github.io/">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- オープニングアニメーション -->
    <div id="opening-overlay">
        <div id="opening-text"></div>
    </div>

    <div class="container site-content">
        <header class="fade-up">
            <h1 class="site-title">海象計画</h1>
            <span class="subtitle">Walrus Project</span>
        </header>

        <section>
            <p class="fade-up">
                言葉の海を泳ぐ、緩やかな計画。<br>
                ここは文学同人サークル「海象計画」のウェブサイトです。<br>
                静かな波音のように、日々の思索と物語を記録しています。
            </p>
            <div class="btn-area fade-up">
                <a href="https://x.com/katsupan_hanto" target="_blank" class="btn">
                    X (Profile) を見る
                </a>
            </div>
        </section>

        <section>
            <h2 class="fade-up">最新の作品</h2>

            <ul class="work-list">
                <li class="work-item fade-up">
                    <span class="work-date">2024.11.26</span>
                    <a class="work-trigger" data-target="modal-work01">『海辺の冬支度』</a>
                    <p>文芸フリマにて頒布した短編集。静かな波音と生活の記録。</p>
                </li>

                <li class="work-item fade-up">
                    <span class="work-date">2024.05.20</span>
                    <a class="work-trigger" data-target="modal-work02">『漂流する活字』</a>
                    <p>初期作品のアンソロジー。現在在庫切れ。</p>
                </li>
            </ul>
        </section>

        <div class="btn-area fade-up">
            <a href="https://twitter.com/intent/tweet?text=海象計画%20公式サイト&url=https://kaizo-keikaku.github.io/" target="_blank" class="btn btn-share">
                X で共有する
            </a>
        </div>

        <footer class="fade-up">
            &copy; 2024 Kaizo Keikaku
        </footer>
    </div>

    <!-- モーダル1 -->
    <div id="modal-work01" class="modal-overlay" style="--modal-bg: #1d3a4e; --modal-text: #f4f1ea;">
        <button class="close-modal-btn">×</button>
        <div class="modal-content">
            <span class="work-date">2024.11.26 発行</span>
            <h2 style="border-left-color: #fff; margin-top:0;">海辺の冬支度</h2>
            <p>
                <strong>仕様：</strong> 文庫サイズ / 120ページ / 800円<br>
                <strong>著者：</strong> 海象計画
            </p>
            <p style="margin-top: 40px;">
                【あらすじ】<br>
                古い灯台の近くに住む男と、言葉を失った少女のひと冬の物語。<br>
                厳しい寒さの中で交わされる、温かいスープと断片的な記憶。
            </p>
            <div class="btn-area">
                <a href="#" class="btn" style="border-color:currentColor; color:currentColor;">BOOTHで購入</a>
            </div>
        </div>
    </div>

    <!-- モーダル2 -->
    <div id="modal-work02" class="modal-overlay" style="--modal-bg: #3e2b2b; --modal-text: #e6e0d5;">
        <button class="close-modal-btn">×</button>
        <div class="modal-content">
            <span class="work-date">2024.05.20 発行</span>
            <h2 style="border-left-color: #e6e0d5; margin-top:0;">漂流する活字</h2>
            <p>
                <strong>仕様：</strong> A5サイズ / 40ページ / 頒布終了<br>
            </p>
            <p style="margin-top: 40px;">
                【概要】<br>
                初期の習作を集めたアンソロジー。<br>
                今はもう手に入らない、断片的な思考の記録。
            </p>
        </div>
    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const openingText = document.getElementById("opening-text");
    const openingOverlay = document.getElementById("opening-overlay");

    const typingSequence = [
        { text: "k", delay: 100 }, { text: "か", delay: 100 },
        { text: "かい", delay: 100 }, { text: "かいz", delay: 100 },
        { text: "かいぞ", delay: 100 }, { text: "かいぞう", delay: 100 },
        { text: "改造", delay: 200 }, { text: "解像", delay: 200 },
        { text: "海象", delay: 300 }, { text: "海象k", delay: 100 },
        { text: "海象け", delay: 100 }, { text: "海象けい", delay: 100 },
        { text: "海象けいk", delay: 100 }, { text: "海象けいか", delay: 100 },
        { text: "海象けいかk", delay: 100 },
        { text: "海象けいかく", delay: 100 },
        { text: "海象計画", delay: 500 }
    ];

    let i = 0;

    function typeText() {
        if (i < typingSequence.length) {
            openingText.textContent = typingSequence[i].text;
            setTimeout(typeText, typingSequence[i].delay);
            i++;
        } else {
            setTimeout(() => {
                openingOverlay.classList.add("fade-out");
                setTimeout(() => {
                    openingOverlay.style.display = "none";
                    startScrollFadeIn();
                }, 700);
            }, 1000);
        }
    }

    typeText();

    // スクロールフェードイン
    function startScrollFadeIn() {
        const targets = document.querySelectorAll(".fade-up");

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                    observer.unobserve(entry.target);
                }
            });
        });

        targets.forEach(el => observer.observe(el));
    }

    // モーダル制御
    const triggers = document.querySelectorAll(".work-trigger");
    const closeBtns = document.querySelectorAll(".close-modal-btn");

    triggers.forEach(trigger => {
        trigger.addEventListener("click", e => {
            e.preventDefault();
            const id = trigger.dataset.target;
            document.getElementById(id)?.classList.add("active");
            document.body.classList.add("no-scroll");
        });
    });

    closeBtns.forEach(btn => {
        btn.addEventListener("click", () => {
            btn.closest(".modal-overlay").classList.remove("active");
            document.body.classList.remove("no-scroll");
        });
    });

});
</script>

</body>
</html>
